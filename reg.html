<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

    <meta name="keywords"
        content="Кафе-кондитерская, кафе, кондитерская, выпечка, десерт, начинка, печенье, конфеты, лакомство">
    <meta name="description" content="Сайт кафе-кондитерской «Лакомый кусочек»">
    <meta name="HandheldFriendly" content="true">

    <link rel="shortcut icon" href="./img/favicon.ico" type="image/x-icon">

    <title>Регистрация</title>
    <link rel="stylesheet" href="./css/normalize.css">
    <link rel="stylesheet" href="./css/style.css">

    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
    <script src="https://unpkg.com/scroll-out/dist/scroll-out.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
</head>

<body>
    <header class="header">
        <div class="header__top container">
            <nav class="nav-static">
                <a href="./index.html" class="logo">
                    <div class="logo__link">
                        <lottie-player class="logo__anim" src="./animations/logo.json" background="transparent"
                            speed="1" style="height: 3em;" hover></lottie-player>
                        <img class="logo__img" src="./img/logo.svg" alt="Логотип" title="На главную">
                    </div>
                    <div class="logo__title">
                        <p class="logo__first-line">Лакомый кусочек</p>
                        <p class="logo__second-line">Кафе-кондитерская</p>
                    </div>
                </a>
                <ul class="nav-static__menu">
                    <li class="nav-static__menu-item">
                        <a href="./menu.html" class="header-btns__btn btn" id="menu">Меню</a>
                    </li>
                    <li class="nav-static__menu-item">
                        <a href="./sales.html" class="header-btns__btn btn" id="about">Скидки</a>
                    </li>
                    <li class="nav-static__menu-item">
                        <a href="./about.html" class="header-btns__btn btn" id="shops">О нас</a>
                    </li>
                </ul>
            </nav>

            <div class="header-btns">
                <a href="./menu.html" class="search__link btn">
                    <img src="img/icons/search.svg" class="search__icon" alt="Поиск...">
                </a>
                <a href="tel:+375332068812" class="header-btns__btn btn">
                    +375 (33) 206-88-12
                </a>
                <a href="./auth.html" class="header-btns__secondary btn">
                    Войти
                </a>
                <a href="./reg.html" class="header-btns__primary btn">
                    Зарегистрироваться
                </a>
                <lottie-player class="burger-btn reverseEffect" src="./animations/menuV2.json" speed="1"
                    style="height: 3em; width: 40px;" alt="Бургер-меню"></lottie-player>
            </div>
        </div>


        <div class="container burger-menu">
            <div class="header-btns">
                <a href="./auth.html" class="header-btns__secondary btn">
                    Войти
                </a>
                <a href="./reg.html" class="header-btns__primary btn">
                    Зарегистрироваться
                </a>
            </div>

            <div class="burger-menu__nav-wrapper">
                <div class="burger-menu__nav-title">Разделы</div>
                <ul class="burger-menu__nav">
                    <li class="burger-menu__nav-item">
                        <a href="./menu.html" id="search">Поиск...</a>
                    </li>
                    <li class="burger-menu__nav-item">
                        <a href="./menu.html" id="menu">Меню</a>
                    </li>
                    <li class="burger-menu__nav-item">
                        <a href="./sales.html" id="sales">Скидки</a>
                    </li>
                    <li class="burger-menu__nav-item">
                        <a href="./about.html" id="about">О нас</a>
                    </li>
                </ul>
                <div class="burger-menu__nav-title">Категории</div>
                <ul class="burger-menu__nav">
                    <li class="burger-menu__nav-item">
                        <a href="./menu.html">
                            Выпечка
                        </a>
                    </li>
                    <li class="burger-menu__nav-item">
                        <a href="./menu.html">
                            Десерты
                        </a>
                    </li>
                    <li class="burger-menu__nav-item">
                        <a href="./menu.html">
                            Конфеты
                        </a>
                    </li>
                    <li class="burger-menu__nav-item">
                        <a href="./menu.html">
                            Наборы
                        </a>
                    </li>
                </ul>
            </div>
            <div>
                <ul class="burger-menu__social-links">
                    <li title="Вконтакте">
                        <a href="https:/vk.com/">
                            Вконтакте
                        </a>
                    </li>
                    <li title="Telegram">
                        <a href="https:/telegram.org/">
                            Telegram
                        </a>
                    </li>
                    <li>
                        <a href="https:/viber.com/" title="Viber">
                            Viber
                        </a>
                    </li>
                </ul>
                <div class="burger-menu__bottom">
                    <div class="copyright">
                        &copy;2010 — 2023, Лакомый кусочек Все права защищены
                        <br />
                        Дизайн и разработка: Ничипорчик А.И.
                    </div>
                </div>
            </div>
        </div>
    </header>
    <main class="main container reg-main">
        <section class="auth-block section">
            <div class="section-block__wrapper">
                <h1>
                    <span class="hero-title__bar animated-item">Регистрация</span>
                </h1>
                <form class="section-block__form">
                    <div class="form-input__wrapper">
                        <input type="text" name="user_name" style="--item-index:1;" class="form-input animated-item"
                            placeholder="Имя" id="first_name" maxlength="50" required>
                        <span class="form-input__err user_name"></span>
                    </div>
                    <div class="form-input__wrapper">
                        <input type="text" name="email" style="--item-index:2;" class="form-input animated-item"
                            placeholder="Электронная почта" id="email" maxlength="50" required>
                        <span class="form-input__err email"></span>
                    </div>
                    <div class="form-input__wrapper">
                        <input type="tel" name="phone" style="--item-index:3;" class="form-input animated-item"
                            placeholder="Телефон" id="phone" maxlength="50" required>
                        <span class="form-input__err phone"></span>
                    </div>
                    <div class="form-input__wrapper">
                        <input type="text" name="address" style="--item-index:4;" class="form-input animated-item"
                            placeholder="Адрес" maxlength="50" id="address" required>
                        <span class="form-input__err address"></span>
                    </div>
                    <div class="form-input__wrapper">
                        <input type="password" name="password" style="--item-index:5;" class="form-input animated-item"
                            placeholder="Придумайте пароль" id="password" maxlength="50" required>
                        <span class="form-input__err password"></span>
                    </div>

                    <div class="recover animated-item" style="--item-index:6;">
                        <input type="checkbox" id="ckbox">
                        <label for="ckbox">Ознакомлен(-а) и принимаю
                            <a href="./404.html">условия регистрации</a>
                        </label>
                    </div>

                    <div class="form-btns">
                        <div class="header-btns">
                            <a href="./auth.html" class="secondary-btn btn section-btn animated-item"
                                style="--item-index:1;">
                                Вход
                            </a>
                            <p class="btn section-btn btn-2 animated-item" style="--item-index:2;">
                                Зарегистрироваться
                            </p>
                        </div>
                    </div>

                </form>
            </div>
        </section>
    </main>
    <footer class="footer container">
        <div class="footer-top">
            <div class="address-blocks__wrapper">
                <div class="address-block">
                    <div class="address-block__title">ул. Притыцкого, 101а</div>
                    <div class="address-block__subtitle">ст. м. «Каменная горка»</div>
                </div>
                <div class="address-block">
                    <div class="address-block__title">пр-т Независимости, 168/1</div>
                    <div class="address-block__subtitle">ст. м. «Уручье»</div>
                </div>
                <div class="address-block">
                    <div class="address-block__title">пр-т Независимости, 44</div>
                    <div class="address-block__subtitle">ст. м. «Площадь Победы»</div>
                </div>
                <div class="address-block">
                    <div class="address-block__title">ул. Жуковая, 23к1</div>
                    <div class="address-block__subtitle">ст. м. «Грушевка»</div>
                </div>
            </div>
            <div class="copyright">
                &copy;2010 — 2023, Лакомый кусочек Все права защищены
                <br />
                Дизайн и разработка: Ничипорчик А.И.
            </div>
        </div>
        <div class="footer-bottom">
            <div class="footer-bottom__left">
                <div class="opening-hours">
                    9:00—20:00
                    <br />
                    Ежедневно
                </div>
                <div class="contacts">
                    <a href="mailto:kysochek@mail.ru">kysochek@mail.ru</a>
                    <div class="social-links">
                        <a href="https:/vk.com/" target="_blank">
                            <img src="./img/icons/vk.svg" alt="Вконтакте">
                        </a>
                        <a href="https:/telegram.org/" target="_blank">
                            <img src="./img/icons/telegram.svg" alt="Телеграм">
                        </a>
                        <a href="https:/viber.com/" target="_blank">
                            <img src="./img/icons/viber.svg" alt="Вайбер">
                        </a>
                    </div>
                </div>

            </div>
            <div class="footer-bottom__right">

                <div class="phone-numbers">
                    +375 (44) 272-57-42
                    <br />
                    +375 (33) 206-88-12
                </div>
                <a href="./404.html" class="privacy-policy">
                    Политика
                    <br />
                    конфиденциальности
                </a>
            </div>
        </div>
    </footer>
    <script>
        let checkBoxLabel = document.body.querySelector("label[for='ckbox']"),
            checkBox = document.body.querySelector("#ckbox"),
            submitBtn = document.body.querySelector("p.section-btn");

            

        // submitBtn.addEventListener("click", () => {
        // if (!checkBox.checked) {
        //     checkBoxLabel.classList.add("unchecked");
        // } else {
        //     window.location = "./account.html";
        // }

        // let remove = () =>
        //     checkBoxLabel.classList.remove("unchecked");
        // setTimeout(remove, 200);
        // });

        $(document).ready(function () {

            $(".btn-2").click(function () {

                if (!checkBox.checked) {
                    checkBoxLabel.classList.add("unchecked");
                }

                if ($("#ckbox").is(':checked')) {

                    $("label[for='ckbox']").removeClass("unchecked");

                    $(".form-input").on("focus", function () {
                        $(".error").addClass("disappearance");

                        var remove = () =>
                            $(".error").remove();
                        setTimeout(remove, 200);
                    });

                    $(".error").click(function () {
                        $(".error").addClass("disappearance");

                        var remove = () =>
                            $(".error").remove();
                        setTimeout(remove, 200);
                    });

                    let valid = true;

                    let first_name = $("#first_name").val();
                    let email = $('#email').val();
                    let password = $('#password').val();
                    let phone = $('#phone').val();
                    let address = $('#address').val();

                    if (first_name.length < 1) {
                        $('#first_name').before('<span class="error">Заполните это поле</span>');
                        valid = false;
                    }
                    else valid = true;

                    if (email.length < 1) {
                        $('#email').before('<span class="error">Заполните это поле</span>');
                    } else {
                        let regEx = /^[A-Za-z0-9][A-Za-z0-9._%+-]{0,63}@(?:[A-Za-z0-9-]{1,63}.){1,125}[A-Za-z]{2,63}$/;
                        let validEmail = regEx.test(email);
                        if (!validEmail) {
                            $('#email').before('<span class="error">Почта не соответствует шаблону xxx@xxx.xx</span>');
                        }
                        valid = false;
                    }

                    if (phone.length < 1) {
                        $('#phone').before('<span class="error">Заполните это поле</span>');
                    } else {
                        let regEx = /^\+375\(\d{2,3}\)\d{3}\-\d{2}\-\d{2}$/;
                        let validPhone = regEx.test(phone);
                        if (!validPhone) {
                            $('#phone').before('<span class="error">Телефон не соответствует шаблону +375(xx)xxx-xx-xx</span>');
                        }
                        valid = false;
                    }

                    if (address.length < 1) {
                        $('#address').before('<span class="error">Заполните это поле</span>');
                        valid = false;
                    }
                    else valid = true;

                    if (password.length < 8) {
                        $('#password').before('<span class="error">Длина пароля должна быть более 8 символов</span>');
                        valid = false;
                    }
                    else valid = true;

                    if (valid) {
                        window.location = "./account.html";
                    }
                }

                let remove = () =>
                    checkBoxLabel.classList.remove("unchecked");
                setTimeout(remove, 200);
            });
        });
    </script>
    <script src="./js/script.js"></script>
</body>

</html>